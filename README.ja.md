# SMR for F-ZERO GX
F-ZERO GX のスピードメータを読み取り，テキストとして出力する，AviUtlの出力プラグイン．

## インストール
AviUtl のルートまたは plugins ディレクトリに fzgx_smr_ks.auo をコピーするか，シンボリックリンクを作成する．

## ビルド
MSYS2上で src ディレクトリに入り，`make`．
MSYS2上の gcc 以外でのコンパイルは想定されていないため，必要なら`Makefile`を参照の上，対応願う．

## 使用上の注意
入力の動画としては，録画したままの 720x480 の映像であり，「ワイド画面 (16:9)」用であることを想定している．4:3 用の出力映像を録画した場合や，拡縮を掛けてしまった後の動画のスピードメータを読み取りたい場合は，スピードメータ部分の画像サイズが 16:9 用の 720x480 の映像と同じになるように拡縮し，後述のウィンドウ位置を適切に設定する必要がある．

## 設定項目
### ウィンドウ
スピードメータの数字部分の左上の座標を指定する．基本的にはデフォルトでよいはず．必要に応じ，次のプレビューダイアログで調整する．

### 出力時にプレビューを表示
出力開始時にウィンドウの調整のためのプレビューダイアログを表示する．ダイアログでは，右下のプレビュー画像に 4 桁の数字が，右上の見本画像と同じような位置に表示されるようにウィンドウの座標を調整する．ボタンで 1 ずつ動かしてもよいし，数値を直接入力してもよい．フレーム番号を変えるとプレビューで表示する画像のフレームを変更でき，出力ファイルには影響しない．

### スレッド数
マルチスレッド処理に使うスレッド数の指定．0 以下の場合，指定値+論理コア数を代わりに用いる．通常はデフォルトの`0`を指定しておくとよい．

### 競合時ダイアログで人力確認
複数のモデルで全会一致にならなかった場合に確認ダイアログを表示する．「評価値x以下でも確認」では最大評価値(確信度)が指定値以下のときにも確認を行う．評価値は 0 から 1 の間の値を取る．「常に確認」にすると条件によらず常に確認ダイアログを表示する．

### フレーム番号を出力
チェックするとスピードメータ指示値とともにフレーム番号を出力する．オフセットで出力範囲の最初のフレーム番号を指定する．区切り文字はフレーム番号と指示値の間に出力する文字を指定する．

## Contributing
バグ報告等は https://github.com/cycloawaodorin/fzgx_smr_ks の Issue 等にて．
